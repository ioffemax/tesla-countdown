<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ Tesla –æ—Å—Ç–∞–ª–æ—Å—å...</title>
    <style>
        :root {
            --pri: #ff00ff;     /* –æ—Å–Ω–æ–≤–Ω–æ–π –Ω–µ–æ–Ω */
            --sec: #00ff00;     /* –≤—Ç–æ—Ä–æ–π —Ü–≤–µ—Ç */
            --acc: #00ffff;     /* –∞–∫—Ü–µ–Ω—Ç */
            --bg1: #0a001a;
            --bg2: #1a0033;
            --emoji: üåü;
            --glow: #ff00ff;
        }
        body { margin:0; font-family:'Orbitron',sans-serif; background:linear-gradient(135deg,var(--bg1),var(--bg2)); color:#fff; min-height:100vh; overflow-x:hidden; }
        .container { max-width:600px; margin:20px auto; padding:20px; border:3px dashed var(--pri); border-radius:20px; background:rgba(0,0,0,0.85); box-shadow:0 0 50px var(--pri),0 0 70px var(--sec); position:relative; z-index:2; }
        h1 { font-size:2.6em; text-align:center; text-shadow:0 0 20px var(--glow),0 0 40px var(--pri); animation:titlePulse 4s infinite; margin:10px 0 20px; }
        .countdown { display:flex; justify-content:space-around; flex-wrap:wrap; background:linear-gradient(45deg,#000,var(--bg2)); padding:15px; border-radius:15px; animation:countdownPulse 3s infinite; }
        .time-unit { text-align:center; padding:12px; min-width:80px; background:rgba(255,255,255,0.05); border-radius:12px; border:2px solid var(--acc); box-shadow:0 0 20px var(--pri); animation:unitGlow 2s infinite; }
        .time-value { font-size:2.8em; font-weight:bold; color:var(--pri); text-shadow:0 0 15px currentColor; }
        .time-value.update { animation:valuePop 0.4s ease-out; }
        #total-hours-counter { font-size:1.6em; text-align:center; margin:20px 0; color:var(--sec); text-shadow:0 0 20px var(--sec),0 0 30px var(--pri); animation:totalHoursGlow 2.5s infinite; }
        #total-hours-counter.update { animation:totalHoursFlash 0.6s; }

        .progress-bar { height:30px; background:#111; border-radius:15px; overflow:hidden; border:2px dashed var(--acc); margin:20px 0; }
        .progress-fill { height:100%; width:0%; background:linear-gradient(90deg,var(--pri),var(--sec)); transition:width 1s ease; box-shadow:0 0 20px var(--pri); }
        #percentage-text { font-size:1.5em; text-align:center; color:var(--acc); text-shadow:0 0 15px var(--acc); }

        .calendar-section { margin-top:30px; padding:20px; background:linear-gradient(45deg,var(--bg1),var(--bg2)); border:3px dashed var(--pri); border-radius:20px; animation:cosmicGlow 3.5s infinite; }
        .calendar-title { font-size:1.6em; text-align:center; margin-bottom:15px; color:var(--pri); text-shadow:0 0 20px var(--pri); animation:neonBlink 2s infinite alternate; }
        .calendar-grid { display:grid; grid-template-columns:repeat(7,minmax(32px,1fr)); gap:4px; }
        .calendar-day { padding:8px; border:2px solid var(--acc); border-radius:50%; background:rgba(0,255,0,0.15); text-align:center; position:relative; overflow:hidden; animation:fadeIn 0.6s forwards; }
        .calendar-day::after { content:var(--emoji); }
        .calendar-day.past { background:rgba(255,0,0,0.3); animation:pastTwinkle 2s infinite; }
        .calendar-day.past::after { content:"X"; color:#ff0066; font-size:2em; animation:dissolve 1.8s infinite; }
        .calendar-day.current { background:linear-gradient(45deg,var(--pri),var(--sec),#fff); color:#000; animation:currentFlash 1.5s infinite; }
        .calendar-day.current::before { content:"Comet"; position:absolute; top:-10px; left:50%; transform:translateX(-50%); animation:cometTrail 1.8s infinite; }
        .calendar-day:not(.past):not(.current) { animation:futureTwinkle 2s infinite; }
        .calendar-day.empty { visibility:hidden; }

        /* –¢–µ–º—ã –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å (11‚Äì26 –Ω–æ—è–±—Ä—è = 16 –¥–Ω–µ–π) */
        .daily-0 {--pri:#ff00ff;--sec:#00ffff;--acc:#ff00ff;--bg1:#0a001a;--bg2:#1a0033;--emoji:üåü;--glow:#ff00ff;}
        .daily-1 {--pri:#00ff00;--sec:#ffff00;--acc:#00ff00;--bg1:#001a00;--bg2:#003300;--emoji:üöÄ;--glow:#00ff00;}
        .daily-2 {--pri:#00ffff;--sec:#0088ff;--acc:#00ffff;--bg1:#001a1a;--bg2:#003333;--emoji:üåô;--glow:#00ffff;}
        .daily-3 {--pri:#ff6600;--sec:#ffff00;--acc:#ff0066;--bg1:#1a0a00;--bg2:#331a00;--emoji:ü™ê;--glow:#ff6600;}
        .daily-4 {--pri:#ff0066;--sec:#ff00ff;--acc:#ffff00;--bg1:#1a000d;--bg2:#33001a;--emoji:ü¶ñ;--glow:#ff0066;}
        .daily-5 {--pri:#aa00ff;--sec:#00ffaa;--acc:#ffffff;--bg1:#0f001a;--bg2:#1a0033;--emoji:üëΩ;--glow:#aa00ff;}
        .daily-6 {--pri:#ffff00;--sec:#ff6600;--acc:#00ff00;--bg1:#1a1a00;--bg2:#333300;--emoji:‚ö°Ô∏è;--glow:#ffff00;}
        .daily-7 {--pri:#00ffaa;--sec:#0088ff;--acc:#ff00ff;--bg1:#001a0f;--bg2:#00331a;--emoji:üåå;--glow:#00ffaa;}
        .daily-8 {--pri:#ff3366;--sec:#66ff33;--acc:#33ffff;--bg1:#1a0005;--bg2:#001a05;--emoji:ü¶ï;--glow:#ff3366;}
        .daily-9 {--pri:#cc00ff;--sec:#00ccff;--acc:#ffff33;--bg1:#0f001a;--bg2:#1a0f33;--emoji:üå†;--glow:#cc00ff;}
        /* –µ—â—ë –º–æ–∂–Ω–æ –¥–æ daily-15 */

        @keyframes titlePulse {0%,100%{transform:scale(1)}50%{transform:scale(1.06)}}
        @keyframes countdownPulse {0%,100%{box-shadow:0 0 30px var(--pri)}50%{box-shadow:0 0 60px var(--sec)}}
        @keyframes unitGlow {0%,100%{box-shadow:0 0 10px var(--pri)}50%{box-shadow:0 0 25px var(--sec)}}
        @keyframes valuePop {0%{transform:scale(1)}50%{transform:scale(1.3);opacity:0.7}100%{transform:scale(1)}}
        @keyframes totalHoursGlow {0%,100%{text-shadow:0 0 15px var(--sec)}50%{text-shadow:0 0 40px var(--pri)}}
        @keyframes totalHoursFlash {0%{filter:brightness(1)}50%{filter:brightness(2)}100%{filter:brightness(1)}}
        @keyframes cosmicGlow {0%,100%{box-shadow:0 0 30px var(--pri)}50%{box-shadow:0 0 70px var(--sec),0 0 90px var(--acc)}}
        @keyframes neonBlink {0%{text-shadow:0 0 20px var(--pri)}100%{text-shadow:0 0 40px var(--sec)}}
        @keyframes fadeIn {0%{opacity:0;transform:scale(0.3)}100%{opacity:1;transform:scale(1)}}
        @keyframes currentFlash {0%,100%{background:linear-gradient(45deg,var(--pri),var(--sec))}50%{filter:brightness(1.5)}}
        @keyframes cometTrail {0%,100%{transform:translateX(-50%) translateY(0)}50%{transform:translateX(-50%) translateY(8px)}}
        @keyframes pastTwinkle {0%,100%{opacity:0.8}50%{opacity:1}}
        @keyframes dissolve {0%,100%{opacity:0.7;transform:scale(1)}50%{opacity:1;transform:scale(1.4)}}
        @keyframes futureTwinkle {0%,100%{opacity:0.7}50%{opacity:1;transform:scale(1.1)}}

        @media (max-width:600px){
            .calendar-grid{gap:3px;}
            .calendar-day{font-size:0.75em;padding:5px;}
            h1{font-size:2em;}
            .time-value{font-size:2.2em;}
        }
    </style>
</head>
<body>

<div class="container">
    <div class="version">v2.1 Daily Cosmic Edition</div>
    <h1 id="title">–î–æ —Ç–≤–æ–µ–≥–æ Tesla –æ—Å—Ç–∞–ª–æ—Å—å...</h1>

    <div class="countdown">
        <div class="time-unit"><div class="time-value" id="days">00</div><div>–î–Ω–µ–π</div></div>
        <div class="time-unit"><div class="time-value" id="hours">00</div><div>–ß–∞—Å–æ–≤</div></div>
        <div class="time-unit"><div class="time-value" id="minutes">00</div><div>–ú–∏–Ω—É—Ç</div></div>
        <div class="time-unit"><div class="time-value" id="seconds">00</div><div>–°–µ–∫—É–Ω–¥</div></div>
    </div>

    <p id="total-hours-counter">–û—Å—Ç–∞–ª–æ—Å—å —á–∞—Å–æ–≤: 0</p>
    <p>–¶–µ–ª–µ–≤–∞—è –¥–∞—Ç–∞: 26 –Ω–æ—è–±—Ä—è 2025 9:00</p>

    <div class="progress-bar"><div class="progress-fill" id="progress-fill"></div></div>
    <div id="percentage-text">0%</div>

    <div class="calendar-section">
        <div class="calendar-title">–ö–∞–ª–µ–Ω–¥–∞—Ä—å –¥–æ –ö–æ—Å–º–æ-–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è!</div>
        <div class="calendar-grid" id="calendar-grid"></div>
    </div>
</div>

<script>
/* ==== 1. –ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è —Ç–µ–º–∞ + –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –≤ 00:00 –ø–æ –ò–∑—Ä–∞–∏–ª—é ==== */
const israelOffset = 3 * 3600000; // UTC+3 (–≤ –Ω–æ—è–±—Ä–µ 2025 ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –≤—Ä–µ–º—è –ò–∑—Ä–∞–∏–ª—è)
const nowIsrael = new Date(Date.now() + israelOffset);
const todayNum = nowIsrael.getDate(); // 11..26
const themeIndex = (todayNum - 11) % 16;
document.documentElement.classList.add(`daily-${themeIndex}`);

// –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –≤ 00:00 –ø–æ –ò–∑—Ä–∞–∏–ª—é
const midnight = new Date(nowIsrael);
midnight.setHours(24,0,0,0);
setTimeout(() => location.reload(true), midnight - nowIsrael);

/* ==== 2. –¢–∞–π–º–µ—Ä –∏ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ==== */
const targetDate = new Date("2025-11-26T09:00:00").getTime();
const startDate = new Date("2025-11-11T09:00:00").getTime();
const totalDuration = targetDate - startDate;

const els = {
    days: document.getElementById('days'),
    hours: document.getElementById('hours'),
    minutes: document.getElementById('minutes'),
    seconds: document.getElementById('seconds'),
    totalH: document.getElementById('total-hours-counter'),
    progress: document.getElementById('progress-fill'),
    percent: document.getElementById('percentage-text')
};

let last = {d:-1,h:-1,m:-1,s:-1,t:-1};

function update() {
    const now = Date.now();
    const dist = targetDate - now;
    if (dist < 0) {
        document.querySelector('h1').textContent = "Tesla —É–∂–µ —Ç–≤–æ—è! –ö–û–°–ú–û–° –ó–û–í–Å–¢!";
        ["days","hours","minutes","seconds"].forEach(k=>els[k].textContent="00");
        els.progress.style.width = "100%";
        els.percent.textContent = "100%";
        return;
    }

    const d = Math.floor(dist/(1000*60*60*24));
    const h = Math.floor((dist%(1000*60*60*24))/(1000*60*60));
    const m = Math.floor((dist%(1000*60*60))/(1000*60));
    const s = Math.floor((dist%(1000*60))/1000);
    const totalH = Math.floor(dist/(1000*60*60));

    if (d!==last.d) { els.days.textContent = d.toString().padStart(2,'0'); els.days.classList.add('update'); setTimeout(()=>els.days.classList.remove('update'),400); last.d=d; }
    if (h!==last.h) { els.hours.textContent = h.toString().padStart(2,'0'); els.hours.classList.add('update'); setTimeout(()=>els.hours.classList.remove('update'),400); last.h=h; }
    if (m!==last.m) { els.minutes.textContent = m.toString().padStart(2,'0'); els.minutes.classList.add('update'); setTimeout(()=>els.minutes.classList.remove('update'),400); last.m=m; }
    if (s!==last.s) { els.seconds.textContent = s.toString().padStart(2,'0'); els.seconds.classList.add('update'); setTimeout(()=>els.seconds.classList.remove('update'),400); last.s=s; }
    if (totalH!==last.t) { els.totalH.textContent = `–û—Å—Ç–∞–ª–æ—Å—å —á–∞—Å–æ–≤: ${totalH}`; els.totalH.classList.add('update'); setTimeout(()=>els.totalH.classList.remove('update'),600); last.t=totalH; }

    const elapsed = now - startDate;
    const perc = Math.min(100, (elapsed / totalDuration) * 100);
    els.progress.style.width = perc.toFixed(3)+"%";
    els.percent.textContent = perc.toFixed(2)+"%";
}
setInterval(update,1000);
update();

/* ==== 3. –ö–∞–ª–µ–Ω–¥–∞—Ä—å (–ò–∑—Ä–∞–∏–ª—å: –í—Å ‚Üí –°–±) ==== */
function generateCalendar() {
    const grid = document.getElementById('calendar-grid');
    const start = new Date("2025-11-11");
    const end = new Date("2025-11-26");
    const today = new Date(); today.setHours(0,0,0,0);

    const firstWeekday = start.getDay(); // 2 = –≤—Ç–æ—Ä–Ω–∏–∫ ‚Üí 2 –ø—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏ –ø–µ—Ä–µ–¥ 11 –Ω–æ—è–±—Ä—è
    for(let i=0; i<firstWeekday; i++) grid.innerHTML += `<div class="calendar-day empty"></div>`;

    for(let d=new Date(start); d<=end; d.setDate(d.getDate()+1)){
        const isToday = d.toDateString() === today.toDateString();
        const isPast = d < today;
        grid.innerHTML += `
            <div class="calendar-day ${isPast?'past':''} ${isToday?'current':''}">
                ${d.getDate()}
            </div>`;
    }
}
generateCalendar();

</script>
</body>
</html>
